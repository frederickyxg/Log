# <font color = blue>第一章 Verilog简介</font>

## <font color = red>1.1 Verilog的主要特性</font>

- 可采用 3 种不同的方式进行设计建模：行为级描述——使用过程化结构建模；数据流描述——使用连续赋值语句建模；结构化方式——使用门和模块例化语句描述。
- 两类数据类型：线网（wire）数据类型与寄存器（reg）数据类型，线网表示物理元件之间的连线，寄存器表示抽象的数据存储元件。
- 能够描述层次设计，可使用模块实例化描述任何层次。
- 用户定义原语（UDP）创建十分灵活。原语既可以是组合逻辑，也可以是时序逻辑。
- 可提供显示语言结构指定设计中的指定端口到端口的时延，以及路径时延和时序检查。
- Verilog 支持其他编程语言接口（PLI）进行进一步扩展。PLI 允许外部函数访问 Verilog 模块内部信息，为仿真提供了更加丰富的测试方法。
- 同一语言可用于生成模拟激励和指定测试的约束条件。
- 设计逻辑功能时，设计者可不用关心不影响逻辑功能的因素，例如工艺、温度等。
- ……



## <font color = red>1.2 Verilog的主要应用</font>

专用集成电路（ASIC），就是具有专门用途和特殊功能的独立集成电路器件。

Verilog 作为硬件描述语言，主要用来生成专用集成电路。

主要通过 3 个途径来完成：

**1、可编程逻辑器件**

FPGA 和 CPLD 是实现这一途径的主流器件。他们直接面向用户，具有极大的灵活性和通用性，实现快捷，测试方便，开发效率高而成本较低。

**2、半定制或全定制 ASIC**

通俗来讲，就是利用 Verilog 来设计具有某种特殊功能的专用芯片。根据基本单元工艺的差异，又可分为门阵列 ASIC，标准单元 ASIC，全定制 ASIC。

**3、混合 ASIC**

主要指既具有面向用户的 FPGA 可编程逻辑功能和逻辑资源，同时也含有可方便调用和配置的硬件标准单元模块，如CPU，RAM，锁相环，乘法器等。



## <font color = red>1.3 Verilog的环境搭建</font>

​	在参考文献中已经很好地阐述了如何安装Vivado2024(适用于Xillinx系的芯片)和Modelsim，并将两者连接。在此不在赘述。



> 参考文献：
>
> 1. [Vivado2024.2+Modelsim仿真环境搭建大全(保姆式说明) - 知乎](https://zhuanlan.zhihu.com/p/1907096350836922353)

## <font color = red>1.4 Verilog设计方法</font>

### 一、设计思路

​	Verilog 的设计多采用自上而下的设计方法（top-down）。即先定义顶层模块功能，进而分析要构成顶层模块的必要子模块；然后进一步对各个模块进行分解、设计，直到到达无法进一步分解的底层功能块。这样，可以把一个较大的系统，细化成多个小系统，从时间、工作量上分配给更多的人员去设计，从而提高了设计速度，缩短了开发周期。

<img src="https://fredericklog-1375058270.cos.ap-nanjing.myqcloud.com/typora/image-20250902212429722.png" alt="image-20250902212429722" style="zoom:67%;" />

​	

### 二、设计流程

| 设计流程                                                     | 说明                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| <img src="https://fredericklog-1375058270.cos.ap-nanjing.myqcloud.com/typora/image-20250902212525611.png" alt="image-20250902212525611" style="zoom: 200%;" /> | **需求分析**<br>工作人员需要对用户提出的功能要求进行分析理解，做出电路系统的**整体规划**，形成详细的技术指标，确定初步方案。例如，要设计一个电子屏，需要考虑供电方式、工作频率、产品体积、成本、功耗等，电路实现采用 ASIC 还是选用 FPGA/CPLD 器件等。<br>**功能划分**<br>正确地分析了用户的电路需求后，就可以进行逻辑功能的总体设计，设计整个电路的功能、接口和总体结构，考虑功能模块的划分和设计思路，**各子模块的接口和时序**（包括接口时序和内部信号的时序）等，向项目组成员合理分配子模块设计任务。<br>**HDL描述**<br>写代码，进行数字电路设计建模，保存为.v文件<br>**功能仿真(前仿真)**<br>利用Modelsim软件进行逻辑仿真，查找设计的错误并对错误进行改正。这里的仿真并没有考虑到信号延迟等等因素，只验证逻辑上的正确性。<br>**逻辑综合**<br>综合（synthesize），就是在标准单元库和特定的设计约束的基础上，将设计的高层次描述（Verilog 建模）转换为门级网表的过程。逻辑综合的目的是产生物理电路门级结构，并在逻辑、时序上进行一定程度的优化，寻求逻辑、面积、功耗的平衡，增强电路的可测试性。但注意，不是所有语句都可综合成逻辑单元，比如时延语句。<br>**布局布线**<br>根据逻辑综合出的网表与约束文件，利用厂家提供的各种基本标准单元库，对门级电路进行布局布线。至此，已经将 Verilog 设计的数字电路，设计成由标准单元库组成的数字电路。<br>**时序仿真(后仿真)**<br>布局布线后，电路模型中已经包含了时延信息。利用在布局布线中获得的精确参数，用仿真软件验证电路的时序。单元器件的不同、布局布线方案都会给电路的时序造成影响，严重时会出现错误。出错后可能就需要重新修改 RTL（寄存器传输级描述，即 Verilog 初版描述），重复后面的步骤。这样的过程可能反复多次，直至错误完全排除。<br>**FPGA下载或者ASIC制造**<br>完成上面所有步骤后，就可以通过开发工具将设计的数字电路目标文件下载到 FPGA/CPLD 芯片中，然后在电路板上进行调试、验证。如果在ASIC上实现，则需要制造芯片，但一般制造前也需要现在FPGA板卡上进行逻辑功能的验证。 |





